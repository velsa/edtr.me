{% extends "base_main.html" %}

{% block extra_title %}Home{% endblock %}

{% block extra_head %}
    {{ super() }}
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="{{ static_url('codemirror/lib/codemirror.css') }}">
    <!-- By default include all themes -->
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/neat.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/elegant.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/erlang-dark.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/night.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/monokai.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/cobalt.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/eclipse.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/rubyblue.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/lesser-dark.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/xq-dark.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/ambiance.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/blackboard.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/vibrant-ink.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/solarized.css') }}">
    <link rel="stylesheet" href="{{ static_url('codemirror/theme/twilight.css') }}">

    <!-- JQuery FancyBox CSS
     -->
    <link rel="stylesheet" href="{{ static_url('fancybox/source/jquery.fancybox.css') }}">

    <!--     zTree styles
    -->    
    <link rel="stylesheet" href="{{ static_url('ztree/css/zTreeStyle/zTreeStyle.css') }}">
    <!-- zTree Icons -->
    <style type="text/css">
        .ztree li span.button.parent_ico_open { 
            margin-right: 2px;
            background: url("{{ static_url('ztree/css/zTreeStyle/img/diy/1_open.png') }}")
            no-repeat scroll 0 0 transparent; vertical-align: top; *vertical-align: middle
        }
        .ztree li span.button.parent_ico_close { 
            margin-right: 2px;
            background: url("{{ static_url('ztree/css/zTreeStyle/img/diy/1_close.png') }}")
            no-repeat scroll 0 0 transparent; vertical-align: top; *vertical-align: middle
        }
        .ztree li span.button.icon_edit_ico_docu { 
            margin-right: 2px;
            background: url("{{ static_url('ztree/css/zTreeStyle/img/diy/2.png') }}")
            no-repeat scroll 0 0 transparent; vertical-align: top; *vertical-align: middle
        }
    </style>

     <!-- 
        Custom CSS 
    -->
    <link rel="stylesheet" href="{{ static_url('css/style.css') }}">

    <!-- JQuery FancyBox
     -->
    <script src="{{ static_url('fancybox/source/jquery.fancybox.js') }}"></script>

    <!-- JQuery zTree
     -->
    <script src="{{ static_url('ztree/js/jquery.ztree.core-3.5.js') }}"></script>
    <script src="{{ static_url('ztree/js/jquery.ztree.excheck-3.5.js') }}"></script>
    <script src="{{ static_url('ztree/js/jquery.ztree.exedit-3.5.js') }}"></script>

    <!-- 
    CodeMirror 
    -->
    <script src="{{ static_url('codemirror/lib/codemirror.js') }}"></script>
    <script src="{{ static_url('codemirror/addon/mode/overlay.js') }}"></script>
    <script src="{{ static_url('codemirror/mode/xml/xml.js') }}"></script>
    <script src="{{ static_url('codemirror/mode/markdown/markdown.js') }}"></script>
    <script src="{{ static_url('codemirror/mode/gfm/gfm.js') }}"></script>
    <script src="{{ static_url('codemirror/addon/edit/closetag.js') }}"></script>
    <script src="{{ static_url('codemirror/addon/search/searchcursor.js') }}"></script>
    <script src="{{ static_url('codemirror/addon/search/match-highlighter.js') }}"></script>

    <!-- Marked (hacked for live preview) -->
    <script src="{{ static_url('js/marked-vels.js') }}"></script>

    <!-- Socket IO - used for auto updates from server -->
    <script src="{{ static_url('js/socket.io.js') }}"></script>

    <!-- Our own code (order is important !) -->
    <script src="{{ static_url('js/edtr-utils.js') }}"></script>
    <script src="{{ static_url('js/modalDialog.js') }}"></script>
    <script src="{{ static_url('js/edtrCodemirror.js') }}"></script>
    <script src="{{ static_url('js/edtrTree.js') }}"></script>

    <!-- This one actually runs -->
    <script src="{{ static_url('js/main.js') }}"></script>
{% endblock %} <!-- extra_head -->

{% block body_before_container %}
    {{ super() }}
{% endblock %}

{% block body_container %}
    {{ super() }}
    <div class="main-container">
        <!--
            Misc divs
        -->
        <!-- Modal dialogs -->
        <div id="modal_placeholder"></div>
        <div id="modal_dialogs" style="display:none">
            {% include "editor/modals.html" %}
        </div>
        <!-- Bar for messages, errors and info -->
        <div id="messages_bar"></div>

        <!-- Loading animation -->
        <div class="modal-backdrop file-loading" style="display:none"></div>
        <!-- Editors (include specific toolbar) --> 
        <div id="markdown_editor_html" style="display:none">
            {% include "editor/cm_markdown.html" %}
        </div>

        <!-- Context menu for ztree nodes -->
        <div class="tree-context-menu"></div>

        <!--
            Main view
        -->
        <div class="main-view-container">
            <div class="main-view-left">
                <!-- Left navigation sidebar -->
                <div class="left-sidebar well">
                    {% include "sidebar/sb_default.html" %}
                </div>
                <!-- Vertical splitter between sidebar and editor area -->
                <div class="left-splitter">
                </div>
            </div>   <!-- .main-view-left -->
            <div class="main-view-right">
                {% include "editor/stub.html" %}
            </div>  <!-- .main-view-right -->
            <!-- Vertical splitter on the right side of editor area -->
            <div class="right-splitter">
            </div>
        </div>  <!-- .main-view-container -->
        <div class="sticky-footer"> 
            <!-- Horizontal splitter between main-view-container and extra footer -->
            <div class="bottom-splitter">
            </div>
            <!--
                Preview pane - by including it into footer , we stick it to bottom 
            -->
            <iframe src="about:blank" class="preview-container">
                <div class="preview-area">
                    <pre class="preview-area-stub">
            Realtime preview will be available here 

            when you select file on the left or create a new one
                    </pre>
                </div>
            </div><!--/row-->
        </div> <!-- sticky-footer -->
    </div><!-- main-container -->
{% endblock %} <!-- body_container -->

{% block extra_footer %}
    {{ super() }}
{% endblock %} <!-- extra_footer -->
